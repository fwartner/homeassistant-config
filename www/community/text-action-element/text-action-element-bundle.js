(function(){"use strict";function a(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function b(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function c(a){for(var c,e=1;e<arguments.length;e++)c=null==arguments[e]?{}:arguments[e],e%2?b(Object(c),!0).forEach(function(b){d(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):b(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))});return a}function d(a,b,c){return b=e(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){var b=f(a,"string");return"symbol"==typeof b?b:b+""}function f(a,b){if("object"!=typeof a||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var g,h,i,j;(function(a){"function"==typeof define&&define.amd?define(a):a()})(function(){var b=(a,b,c)=>{c=null===c||void 0===c?{}:c;var d=new Event(b,{bubbles:!0,cancelable:!1,composed:!0});return d.detail=c,a.dispatchEvent(d),d};class d{static get LitElement(){return Object.getPrototypeOf(customElements.get("home-assistant-main"))}static get LitHtml(){return this.LitElement.prototype.html}static get LitCSS(){return this.LitElement.prototype.css}static callService(a,b,d,e,f){a.callService(b,d,c({entity_id:e},f))}static toggleEntity(a,b){var c=e.includes(a.states[b].state);return d.turnOnOffEntity(a,b,c)}static turnOnOffEntity(a,b){var c,e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],f=d.computeDomain(b),g="group"===f?"homeassistant":f;return c="lock"===f?e?"unlock":"lock":"cover"===f?e?"open_cover":"close_cover":e?"turn_on":"turn_off",a.callService(g,c,{entity_id:b})}static computeDomain(a){return a.substr(0,a.indexOf("."))}static popUp(a,b,c){var d=document.createElement("div");d.innerHTML="\n      <style>\n        app-toolbar {\n          color: var(--more-info-header-color);\n          background-color: var(--more-info-header-background);\n        }\n      </style>\n      <app-toolbar>\n        <paper-icon-button\n          icon=\"hass:close\"\n          dialog-dismiss=\"\"\n        ></paper-icon-button>\n        <div class=\"main-title\" main-title=\"\">\n          ".concat(b,"\n        </div>\n      </app-toolbar>\n    "),d.appendChild(c),this.moreInfo(Object.keys(a.states)[0]);var e=document.querySelector("home-assistant")._moreInfoEl;return e._page="none",e.shadowRoot.appendChild(d),e.style.width="570px",document.querySelector("home-assistant").provideHass(c),setTimeout(()=>{var a=setInterval(()=>{e.getAttribute("aria-hidden")&&(d.parentNode.removeChild(d),clearInterval(a))},100)},1e3),e}static closePopUp(){var a=document.querySelector("home-assistant")._moreInfoEl;a&&a.close()}static moreInfo(a){this.fireEvent("hass-more-info",{entityId:a})}static fireEvent(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(a=new Event(a,{bubbles:!0,cancelable:!1,composed:!0}),a.detail=b||{},c)c.dispatchEvent(a);else{var d=document.querySelector("home-assistant");d=d&&d.shadowRoot,d=d&&d.querySelector("home-assistant-main"),d=d&&d.shadowRoot,d=d&&d.querySelector("app-drawer-layout partial-panel-resolver"),d=d&&d.shadowRoot||d,d=d&&d.querySelector("ha-panel-lovelace"),d=d&&d.shadowRoot,d=d&&d.querySelector("hui-root"),d=d&&d.shadowRoot,d=d&&d.querySelector("ha-app-layout #view"),d=d&&d.firstElementChild,d&&d.dispatchEvent(a)}}static navigate(a,c,d){d?history.replaceState(null,"",c):history.pushState(null,"",c),b(window,"location-changed",{replace:d})}}var e=["closed","locked","off"],f=function(a,c,e,f){var g;switch(f&&e.hold_action?g=e.hold_action:!f&&e.tap_action&&(g=e.tap_action),g||(g={action:"more-info"}),g.action){case"more-info":(e.entity||e.camera_image)&&d.fireEvent(a,"hass-more-info",{entityId:e.entity?e.entity:e.camera_image});break;case"navigate":g.navigation_path&&d.navigate(a,g.navigation_path);break;case"toggle":e.entity&&d.toggleEntity(c,e.entity);break;case"call-service":{if(!g.service)return;var h=g.service.split(".",2),i=h[0],j=h[1];c.callService(i,j,g.service_data)}case"fire-dom-event":b(a,"ll-custom",g);}};class k extends d.LitElement{constructor(){super(),this._config={}}static get properties(){return{hass:{},config:{}}}setConfig(a){if(!a.text&&!a.icon)throw Error("Invalid Configuration: 'text' or 'icon' required");this._config=a}render(){if(!this._config||!this.hass||!this._config.text&&!this._config.icon)return d.LitHtml(g||(g=a([""])));var b=this.hass&&this._config.entity?this.hass.states[this._config.entity]:void 0,c="";this._config.tap_action&&(c="cursor: pointer;");var e=b?b.state:"unavailable";return this._config.state_filter&&this._config.state_filter[e]&&(c+=this._config.state_filter[e]),d.LitHtml(h||(h=a(["\n      <div class=\"content\" @click="," \n        style=\"","\">\n          ","\n      </div>\n    "])),this._handleTap,c,this._config.text?this._config.text:d.LitHtml(i||(i=a(["\n                  <ha-icon .icon=","></ha-icon>\n                "])),this._config.icon))}static get styles(){return d.LitCSS(j||(j=a(["\n      .content {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        height: 100%;\n      }\n    "])))}_handleTap(){this._config.tap_action&&f(this,this.hass,this._config,!1)}}customElements.define("text-action-element",k)})})();
