function t(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}"function"==typeof SuppressedError&&SuppressedError;
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const e=window,n=e.ShadowRoot&&(void 0===e.ShadyCSS||e.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,i=Symbol(),o=new WeakMap;class r{constructor(t,e,n){if(this._$cssResult$=!0,n!==i)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(n&&void 0===t){const n=void 0!==e&&1===e.length;n&&(t=o.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&o.set(e,t))}return t}toString(){return this.cssText}}const s=(t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,n,i)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[i+1]),t[0]);return new r(n,t,i)},a=n?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return(t=>new r("string"==typeof t?t:t+"",void 0,i))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var l;const c=window,u=c.trustedTypes,h=u?u.emptyScript:"",d=c.reactiveElementPolyfillSupport,f={toAttribute(t,e){switch(e){case Boolean:t=t?h:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},g=(t,e)=>e!==t&&(e==e||t==t),p={attribute:!0,type:String,converter:f,reflect:!1,hasChanged:g},v="finalized";class y extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,n)=>{const i=this._$Ep(n,e);void 0!==i&&(this._$Ev.set(i,n),t.push(i))})),t}static createProperty(t,e=p){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const n="symbol"==typeof t?Symbol():"__"+t,i=this.getPropertyDescriptor(t,n,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(i){const o=this[t];this[e]=i,this.requestUpdate(t,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||p}static finalize(){if(this.hasOwnProperty(v))return!1;this[v]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const n of e)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const t of n)e.unshift(a(t))}else void 0!==t&&e.push(a(t));return e}static _$Ep(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,n;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(n=t.hostConnected)||void 0===n||n.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const i=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,i)=>{n?t.adoptedStyleSheets=i.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):i.forEach((n=>{const i=document.createElement("style"),o=e.litNonce;void 0!==o&&i.setAttribute("nonce",o),i.textContent=n.cssText,t.appendChild(i)}))})(i,this.constructor.elementStyles),i}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$EO(t,e,n=p){var i;const o=this.constructor._$Ep(t,n);if(void 0!==o&&!0===n.reflect){const r=(void 0!==(null===(i=n.converter)||void 0===i?void 0:i.toAttribute)?n.converter:f).toAttribute(e,n.type);this._$El=t,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$El=null}}_$AK(t,e){var n;const i=this.constructor,o=i._$Ev.get(t);if(void 0!==o&&this._$El!==o){const t=i.getPropertyOptions(o),r="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(n=t.converter)||void 0===n?void 0:n.fromAttribute)?t.converter:f;this._$El=o,this[o]=r.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,n){let i=!0;void 0!==t&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||g)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(n)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(n)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var _;y[v]=!0,y.elementProperties=new Map,y.elementStyles=[],y.shadowRootOptions={mode:"open"},null==d||d({ReactiveElement:y}),(null!==(l=c.reactiveElementVersions)&&void 0!==l?l:c.reactiveElementVersions=[]).push("1.6.3");const m=window,w=m.trustedTypes,$=w?w.createPolicy("lit-html",{createHTML:t=>t}):void 0,E="$lit$",A=`lit$${(Math.random()+"").slice(9)}$`,b="?"+A,C=`<${b}>`,S=document,P=()=>S.createComment(""),x=t=>null===t||"object"!=typeof t&&"function"!=typeof t,I=Array.isArray,T="[ \t\n\f\r]",M=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,N=/-->/g,R=/>/g,U=RegExp(`>|${T}(?:([^\\s"'>=/]+)(${T}*=${T}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),k=/'/g,B=/"/g,L=/^(?:script|style|textarea|title)$/i,z=(t=>(e,...n)=>({_$litType$:t,strings:e,values:n}))(1),H=Symbol.for("lit-noChange"),O=Symbol.for("lit-nothing"),D=new WeakMap,F=S.createTreeWalker(S,129,null,!1);function V(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==$?$.createHTML(e):e}const j=(t,e)=>{const n=t.length-1,i=[];let o,r=2===e?"<svg>":"",s=M;for(let e=0;e<n;e++){const n=t[e];let a,l,c=-1,u=0;for(;u<n.length&&(s.lastIndex=u,l=s.exec(n),null!==l);)u=s.lastIndex,s===M?"!--"===l[1]?s=N:void 0!==l[1]?s=R:void 0!==l[2]?(L.test(l[2])&&(o=RegExp("</"+l[2],"g")),s=U):void 0!==l[3]&&(s=U):s===U?">"===l[0]?(s=null!=o?o:M,c=-1):void 0===l[1]?c=-2:(c=s.lastIndex-l[2].length,a=l[1],s=void 0===l[3]?U:'"'===l[3]?B:k):s===B||s===k?s=U:s===N||s===R?s=M:(s=U,o=void 0);const h=s===U&&t[e+1].startsWith("/>")?" ":"";r+=s===M?n+C:c>=0?(i.push(a),n.slice(0,c)+E+n.slice(c)+A+h):n+A+(-2===c?(i.push(void 0),e):h)}return[V(t,r+(t[n]||"<?>")+(2===e?"</svg>":"")),i]};class W{constructor({strings:t,_$litType$:e},n){let i;this.parts=[];let o=0,r=0;const s=t.length-1,a=this.parts,[l,c]=j(t,e);if(this.el=W.createElement(l,n),F.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=F.nextNode())&&a.length<s;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith(E)||e.startsWith(A)){const n=c[r++];if(t.push(e),void 0!==n){const t=i.getAttribute(n.toLowerCase()+E).split(A),e=/([.?@])?(.*)/.exec(n);a.push({type:1,index:o,name:e[2],strings:t,ctor:"."===e[1]?Q:"?"===e[1]?Z:"@"===e[1]?G:K})}else a.push({type:6,index:o})}for(const e of t)i.removeAttribute(e)}if(L.test(i.tagName)){const t=i.textContent.split(A),e=t.length-1;if(e>0){i.textContent=w?w.emptyScript:"";for(let n=0;n<e;n++)i.append(t[n],P()),F.nextNode(),a.push({type:2,index:++o});i.append(t[e],P())}}}else if(8===i.nodeType)if(i.data===b)a.push({type:2,index:o});else{let t=-1;for(;-1!==(t=i.data.indexOf(A,t+1));)a.push({type:7,index:o}),t+=A.length-1}o++}}static createElement(t,e){const n=S.createElement("template");return n.innerHTML=t,n}}function Y(t,e,n=t,i){var o,r,s,a;if(e===H)return e;let l=void 0!==i?null===(o=n._$Co)||void 0===o?void 0:o[i]:n._$Cl;const c=x(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(r=null==l?void 0:l._$AO)||void 0===r||r.call(l,!1),void 0===c?l=void 0:(l=new c(t),l._$AT(t,n,i)),void 0!==i?(null!==(s=(a=n)._$Co)&&void 0!==s?s:a._$Co=[])[i]=l:n._$Cl=l),void 0!==l&&(e=Y(t,l._$AS(t,e.values),l,i)),e}class q{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:n},parts:i}=this._$AD,o=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:S).importNode(n,!0);F.currentNode=o;let r=F.nextNode(),s=0,a=0,l=i[0];for(;void 0!==l;){if(s===l.index){let e;2===l.type?e=new J(r,r.nextSibling,this,t):1===l.type?e=new l.ctor(r,l.name,l.strings,this,t):6===l.type&&(e=new tt(r,this,t)),this._$AV.push(e),l=i[++a]}s!==(null==l?void 0:l.index)&&(r=F.nextNode(),s++)}return F.currentNode=S,o}v(t){let e=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class J{constructor(t,e,n,i){var o;this.type=2,this._$AH=O,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=i,this._$Cp=null===(o=null==i?void 0:i.isConnected)||void 0===o||o}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Y(this,t,e),x(t)?t===O||null==t||""===t?(this._$AH!==O&&this._$AR(),this._$AH=O):t!==this._$AH&&t!==H&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):(t=>I(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]))(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==O&&x(this._$AH)?this._$AA.nextSibling.data=t:this.$(S.createTextNode(t)),this._$AH=t}g(t){var e;const{values:n,_$litType$:i}=t,o="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=W.createElement(V(i.h,i.h[0]),this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===o)this._$AH.v(n);else{const t=new q(o,this),e=t.u(this.options);t.v(n),this.$(e),this._$AH=t}}_$AC(t){let e=D.get(t.strings);return void 0===e&&D.set(t.strings,e=new W(t)),e}T(t){I(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,i=0;for(const o of t)i===e.length?e.push(n=new J(this.k(P()),this.k(P()),this,this.options)):n=e[i],n._$AI(o),i++;i<e.length&&(this._$AR(n&&n._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var n;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class K{constructor(t,e,n,i,o){this.type=1,this._$AH=O,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=o,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=O}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,n,i){const o=this.strings;let r=!1;if(void 0===o)t=Y(this,t,e,0),r=!x(t)||t!==this._$AH&&t!==H,r&&(this._$AH=t);else{const i=t;let s,a;for(t=o[0],s=0;s<o.length-1;s++)a=Y(this,i[n+s],e,s),a===H&&(a=this._$AH[s]),r||(r=!x(a)||a!==this._$AH[s]),a===O?t=O:t!==O&&(t+=(null!=a?a:"")+o[s+1]),this._$AH[s]=a}r&&!i&&this.j(t)}j(t){t===O?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class Q extends K{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===O?void 0:t}}const X=w?w.emptyScript:"";class Z extends K{constructor(){super(...arguments),this.type=4}j(t){t&&t!==O?this.element.setAttribute(this.name,X):this.element.removeAttribute(this.name)}}class G extends K{constructor(t,e,n,i,o){super(t,e,n,i,o),this.type=5}_$AI(t,e=this){var n;if((t=null!==(n=Y(this,t,e,0))&&void 0!==n?n:O)===H)return;const i=this._$AH,o=t===O&&i!==O||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==O&&(i===O||o);o&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}class tt{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){Y(this,t)}}const et=m.litHtmlPolyfillSupport;null==et||et(W,J),(null!==(_=m.litHtmlVersions)&&void 0!==_?_:m.litHtmlVersions=[]).push("2.8.0");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var nt,it;class ot extends y{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const n=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=n.firstChild),n}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,n)=>{var i,o;const r=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:e;let s=r._$litPart$;if(void 0===s){const t=null!==(o=null==n?void 0:n.renderBefore)&&void 0!==o?o:null;r._$litPart$=s=new J(e.insertBefore(P(),t),t,void 0,null!=n?n:{})}return s._$AI(t),s})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return H}}ot.finalized=!0,ot._$litElement$=!0,null===(nt=globalThis.litElementHydrateSupport)||void 0===nt||nt.call(globalThis,{LitElement:ot});const rt=globalThis.litElementPolyfillSupport;null==rt||rt({LitElement:ot}),(null!==(it=globalThis.litElementVersions)&&void 0!==it?it:globalThis.litElementVersions=[]).push("3.3.3");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const st=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:i}=e;return{kind:n,elements:i,finisher(e){customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,at=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}},lt=(t,e,n)=>{e.constructor.createProperty(n,t)};function ct(t){return(e,n)=>void 0!==n?lt(t,e,n):at(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function ut(t){return ct({...t,state:!0})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ht;null===(ht=window.HTMLSlotElement)||void 0===ht||ht.prototype.assignedElements;var dt,ft;!function(t){t.language="language",t.system="system",t.comma_decimal="comma_decimal",t.decimal_comma="decimal_comma",t.space_comma="space_comma",t.none="none"}(dt||(dt={})),function(t){t.language="language",t.system="system",t.am_pm="12",t.twenty_four="24"}(ft||(ft={}));var gt={description:"QR code generator card",invalid_configuration:"Invalid configuration",loading:"Loading..."},pt={label:{title:"Title (optional)",source:"Source type (required)",text:"Text (required)",entity:"Entity (required)",auth_type:"Authentication type (required)",ssid:"SSID (required)",password:"Password (required)",is_hidden:"Hidden SSID",is_debug:"Debug mode (Show value for QR code)"},title:{show_password:"Show password",hide_password:"Hide password"},options:{source:{text:"Text",wifi:"WiFi",entity:"Entity"},auth_type:{WEP:"WEP",WPA:"WPA",nopass:"None"}},yaml_mode:"Configuring SSID and password from entity is not supported in visual editor mode. Please switch to code editor mode."},vt={debug:{invalid:"Debug mode must be true or false"},source:{missing:"Missing property: source",invalid:"Invalid source type"},text:{missing:"Missing property: text"},auth_type:{missing:"Missing property: auth_type",invalid:"Invalid authentication type"},ssid:{missing:"Missing property: ssid",unknown_type:"Unsupported data type for SSID: {type}",unknown_entity:"Entity specified for SSID is unknown: {entity}",unknown_attribute:"Attribute specified for SSID is unknown: {attribute}",unavailable:"Entity specified for SSID is unavailable: {entity}"},password:{missing:"Missing property: password",unknown_type:"Unsupported data type for password: {type}",unknown_entity:"Entity specified for password is unknown: {entity}",unknown_attribute:"Attribute specified for password is unknown: {attribute}",unavailable:"Entity specified for password is unavailable: {entity}"},entity:{missing:"Missing property: entity",unknown_type:"Unsupported data type for entity: {type}",unknown_entity:"Unknown entity: {entity}",unknown_attribute:"Attribute specified for entity is unknown: {attribute}",unavailable:"Entity is unavailable: {entity}"}},yt={error:"An error occurred while generating QR-Code: {message}",unknown_error:"An error occurred while generating QR-Code"},_t={common:gt,editor:pt,validation:vt,generation:yt};const mt={en:Object.freeze({__proto__:null,common:gt,editor:pt,validation:vt,generation:yt,default:_t})};function wt(t,e="",n="",i="",o=t){const r="en";if(!i)try{i=JSON.parse(localStorage.getItem("selectedLanguage")||`"${r}"`)}catch(t){i=(localStorage.getItem("selectedLanguage")||r).replace(/['"]+/g,"")}let s;try{s=$t(t,null!=i?i:r)}catch(e){s=$t(t,r)}return void 0===s&&(s=$t(t,r)),s=null!=s?s:o,""!==e&&""!==n&&(s=s.replace(e,n)),s}function $t(t,e){return t.split(".").reduce(((t,e)=>t[e]),mt[e])}function Et(t,e,n){return"string"==typeof t?wt(t,"","",e,n):wt(...t,e,n)}function At(t,e,n,i){var o,r;return Et(t,null!==(o=null==n?void 0:n.language)&&void 0!==o?o:null===(r=null==e?void 0:e.locale)||void 0===r?void 0:r.language,i)}var bt,Ct;!function(t){t.TEXT="text",t.WIFI="wifi",t.ENTITY="entity"}(bt||(bt={})),function(t){t.WEP="WEP",t.WPA="WPA",t.NOPASS="nopass"}(Ct||(Ct={}));const St=[Ct.WEP,Ct.WPA];function Pt(t){return void 0!==t&&St.includes(t)}const xt="qr-code-card",It="qr-code-card-editor";let Tt=class extends ot{constructor(){super(...arguments),this._unmaskedPassword=!1,this._initialized=!1}setConfig(t){this._config=t}shouldUpdate(){return this._initialized||this._initialize(),!0}get _title(){var t;return(null===(t=this._config)||void 0===t?void 0:t.title)||""}get _source(){var t;return null===(t=this._config)||void 0===t?void 0:t.source}get _text(){const t=this._config;return(null==t?void 0:t.text)||""}get _auth_type(){const t=this._config;return null==t?void 0:t.auth_type}get _ssid(){const t=this._config;return"string"==typeof(null==t?void 0:t.ssid)&&(null==t?void 0:t.ssid)||""}get _password(){const t=this._config;return"string"==typeof(null==t?void 0:t.password)&&(null==t?void 0:t.password)||""}get _is_hidden(){const t=this._config;return(null==t?void 0:t.is_hidden)||!1}get _is_debug(){const t=this._config;return(null==t?void 0:t.debug)||!1}get _entity(){const t=this._config;return(null==t?void 0:t.entity)||""}_isDisabled(){var t,e,n;return(null===(t=this._config)||void 0===t?void 0:t.source)===bt.WIFI&&("string"!=typeof(null===(e=this._config)||void 0===e?void 0:e.ssid)||"string"!=typeof(null===(n=this._config)||void 0===n?void 0:n.password))}_localize(t){return At(t,this.hass,this._config)}render(){var t,e,n;if(!this.hass)return z``;if(this._isDisabled())return z`
                <div class="card-config">
                    <div class="error">${this._localize("editor.yaml_mode")}</div>
                </div>`;const i=Object.keys(this.hass.states);return z`
            <div class="card-config">
                <div class="values">
                    <ha-textfield
                        label=${this._localize("editor.label.title")}
                        .value=${this._title}
                        .configValue=${"title"}
                        @input=${this._valueChanged}></ha-textfield>
                </div>
                
                <div class="values">
                    <ha-select
                        naturalMenuWidth
                        fixedMenuPosition
                        label="${this._localize("editor.label.source")}"
                        @selected="${this._valueChanged}"
                        @closed="${t=>t.stopPropagation()}"
                        .configValue="${"source"}"
                        .value="${this._source}">
                        ${Object.values(bt).map((t=>z` <mwc-list-item .value="${t}">${this._localize(`editor.options.source.${t}`)}</mwc-list-item> `))}
                    </ha-select>
                </div>
                
                ${(null===(t=this._config)||void 0===t?void 0:t.source)==bt.TEXT?z`
                <div class="values">
                    <ha-textfield
                        label="${this._localize("editor.label.text")}"
                        .value="${this._text}"
                        .configValue="${"text"}"
                        @input="${this._valueChanged}"></ha-textfield>
                </div>`:""}
                
                ${(null===(e=this._config)||void 0===e?void 0:e.source)==bt.WIFI?z`
                <div class="values">
                    <ha-select
                        naturalMenuWidth
                        fixedMenuPosition
                        label="${this._localize("editor.label.auth_type")}"
                        @selected="${this._valueChanged}"
                        @closed="${t=>t.stopPropagation()}"
                        .configValue="${"auth_type"}"
                        .value="${this._auth_type}">
                        ${Object.values(Ct).map((t=>z` <mwc-list-item .value="${t}">${this._localize(`editor.options.auth_type.${t}`)}</mwc-list-item> `))}
                    </ha-select>
                </div>
                <div class="values">
                    <ha-textfield
                        label=${this._localize("editor.label.ssid")}
                        .value=${this._ssid}
                        .configValue=${"ssid"}
                        @input=${this._valueChanged}></ha-textfield>
                </div>
                ${Pt(this._auth_type)?z`
                <div class="values">
                    <ha-textfield
                        .type=${this._unmaskedPassword?"text":"password"}
                        .label=${this._localize("editor.label.password")}
                        .value=${this._password}
                        .configValue=${"password"}
                        .suffix="${z`<div style="width: 24px"></div>`}"
                        @input=${this._valueChanged}>
                    </ha-textfield>
                    <ha-icon-button
                        toggles
                        .label=${this._unmaskedPassword?this._localize("editor.title.hide_password"):this._localize("editor.title.show_password")}
                        @click=${this._toggleUnmaskedPassword}
                        .path=${this._unmaskedPassword?"M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z":"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"}
                    ></ha-icon-button>
                    
                </div>
                `:""}
                <div class="values">
                    <ha-formfield .label=${this._localize("editor.label.is_hidden")}>
                        <ha-switch
                            .checked=${this._is_hidden}
                            .configValue=${"is_hidden"}
                            @change=${this._valueChanged}></ha-switch>
                    </ha-formfield>
                </div>
                `:""}
              
              ${(null===(n=this._config)||void 0===n?void 0:n.source)==bt.ENTITY?z`
                <div class="values">
                    <ha-select
                        naturalMenuWidth
                        fixedMenuPosition
                        label="${this._localize("editor.label.entity")}"
                        @selected="${this._valueChanged}"
                        @closed="${t=>t.stopPropagation()}"
                        .configValue="${"entity"}"
                        .value="${this._entity}">
                        ${i.map((t=>z` <mwc-list-item .value="${t}">${t}</mwc-list-item>`))}
                    </ha-select>
                </div>`:""}
                
                <div class="values">
                    <ha-formfield .label=${this._localize("editor.label.is_debug")}>
                        <ha-switch
                            .checked=${this._is_debug}
                            .configValue=${"debug"}
                            @change=${this._valueChanged}></ha-switch>
                    </ha-formfield>
                </div>
            </div>
        `}_initialize(){void 0!==this.hass&&void 0!==this._config&&(this._initialized=!0)}_valueChanged(t){t.stopPropagation();const e=void 0!==t.target.checked?t.target.checked:t.target.value;this._updateConfig(t.target.configValue,e)}_toggleUnmaskedPassword(){this._unmaskedPassword=!this._unmaskedPassword}_updateConfig(t,e){if(this._config&&this.hass&&this[`_${t}`]!==e){if(t)this._config=Object.assign(Object.assign({},this._config),{[t]:e});else{const t=Object.assign({},this._config);delete t[e],this._config=t}!function(t,e,n,i){i=i||{},n=null==n?{}:n;var o=new Event(e,{bubbles:void 0===i.bubbles||i.bubbles,cancelable:Boolean(i.cancelable),composed:void 0===i.composed||i.composed});o.detail=n,t.dispatchEvent(o)}(this,"config-changed",{config:this._config})}}static get styles(){return s`
            .values {
              margin-top: 8px;
              margin-bottom: 16px;
              display: block;
              position: relative;
            }
            
            ha-textfield,
            ha-select {
                width: 100%;
            }
            
            ha-icon-button {
              position: absolute;
              top: 8px;
              right: 8px;
              inset-inline-start: initial;
              inset-inline-end: 8px;
              --mdc-icon-button-size: 40px;
              --mdc-icon-size: 20px;
              color: var(--secondary-text-color);
              direction: var(--direction);
            }
            
            .error {
                color: var(--error-color);
            }
        `}};t([ct({attribute:!1})],Tt.prototype,"hass",void 0),t([ut()],Tt.prototype,"_config",void 0),t([ut()],Tt.prototype,"_unmaskedPassword",void 0),Tt=t([st(It)],Tt);class Mt extends Error{constructor(t){super(Et(t))}}class Nt{constructor(t,e){this.hass=t,this.config=e}getInputString(){try{return this._getInputString()}catch(t){if(t instanceof Mt)throw t;if(t instanceof Error)throw new Mt(["generation.error","{message}",t.message]);throw new Mt("generation.unknown_error")}}_getValueFromConfig(t){var e;let n;const i=this.config[t];if(void 0===i)throw new Mt(`validation.${t}.missing`);if("string"==typeof i)n=i;else{if(!i.hasOwnProperty("entity"))throw new Mt([`validation.${t}.unknown_type`,"{type}",typeof i]);{const o=null===(e=this.hass)||void 0===e?void 0:e.states[i.entity];if(void 0===o)throw new Mt([`validation.${t}.unknown_entity`,"{entity}",i.entity]);if(void 0!==i.attribute){const e=o.attributes[i.attribute];if(void 0===e)throw new Mt([`validation.${t}.unknown_attribute`,"{attribute}",i.attribute]);n=e.toString()}else{const e=o.state;if("unavailable"===e)throw new Mt([`validation.${t}.unavailable`,"{entity}",i.entity]);n=e}}}return n}}const Rt=new Map([[bt.TEXT,class extends Nt{_getInputString(){return this.config.text||""}}],[bt.WIFI,class extends Nt{constructor(){super(...arguments),this.special_chars=["\\",";",",",'"',":"]}_escape(t){return this.special_chars.reduce(((t,e)=>t.replace(e,"\\"+e)),t)}_getInputString(){const t=this._getValueFromConfig("ssid");let e=`WIFI:T:${this.config.auth_type||""};S:${this._escape(t)};`;if(Pt(this.config.auth_type)){const t=this._getValueFromConfig("password");e+=`P:${this._escape(t)};`}return this.config.is_hidden&&(e+="H:true"),e}}],[bt.ENTITY,class extends Nt{_getInputString(){return this._getValueFromConfig("entity")}}]]);let Ut;const kt=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];var Bt={getSymbolSize:function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},getSymbolTotalCodewords:function(t){return kt[t]},getBCHDigit:function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},setToSJISFunction:function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');Ut=t},isKanjiModeEnabled:function(){return void 0!==Ut},toSJIS:function(t){return Ut(t)}};function Lt(t,e){return t(e={exports:{}},e.exports),e.exports}var zt=Lt((function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return n}}}));function Ht(){this.buffer=[],this.length=0}zt.L,zt.M,zt.Q,zt.H,zt.isValid,Ht.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ot=Ht;function Dt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Dt.prototype.set=function(t,e,n,i){const o=t*this.size+e;this.data[o]=n,i&&(this.reservedBit[o]=!0)},Dt.prototype.get=function(t,e){return this.data[t*this.size+e]},Dt.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},Dt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Ft=Dt,Vt=Lt((function(t,e){const n=Bt.getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,i=n(t),o=145===i?26:2*Math.ceil((i-13)/(2*e-2)),r=[i-7];for(let t=1;t<e-1;t++)r[t]=r[t-1]-o;return r.push(6),r.reverse()},e.getPositions=function(t){const n=[],i=e.getRowColCoords(t),o=i.length;for(let t=0;t<o;t++)for(let e=0;e<o;e++)0===t&&0===e||0===t&&e===o-1||t===o-1&&0===e||n.push([i[t],i[e]]);return n}}));Vt.getRowColCoords,Vt.getPositions;const jt=Bt.getSymbolSize;var Wt={getPositions:function(t){const e=jt(t);return[[0,0],[e-7,0],[0,e-7]]}},Yt=Lt((function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,i=3,o=40,r=10;function s(t,n,i){switch(t){case e.Patterns.PATTERN000:return(n+i)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return i%3==0;case e.Patterns.PATTERN011:return(n+i)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2==0;case e.Patterns.PATTERN101:return n*i%2+n*i%3==0;case e.Patterns.PATTERN110:return(n*i%2+n*i%3)%2==0;case e.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let i=0,o=0,r=0,s=null,a=null;for(let l=0;l<e;l++){o=r=0,s=a=null;for(let c=0;c<e;c++){let e=t.get(l,c);e===s?o++:(o>=5&&(i+=n+(o-5)),s=e,o=1),e=t.get(c,l),e===a?r++:(r>=5&&(i+=n+(r-5)),a=e,r=1)}o>=5&&(i+=n+(o-5)),r>=5&&(i+=n+(r-5))}return i},e.getPenaltyN2=function(t){const e=t.size;let n=0;for(let i=0;i<e-1;i++)for(let o=0;o<e-1;o++){const e=t.get(i,o)+t.get(i,o+1)+t.get(i+1,o)+t.get(i+1,o+1);4!==e&&0!==e||n++}return n*i},e.getPenaltyN3=function(t){const e=t.size;let n=0,i=0,r=0;for(let o=0;o<e;o++){i=r=0;for(let s=0;s<e;s++)i=i<<1&2047|t.get(o,s),s>=10&&(1488===i||93===i)&&n++,r=r<<1&2047|t.get(s,o),s>=10&&(1488===r||93===r)&&n++}return n*o},e.getPenaltyN4=function(t){let e=0;const n=t.data.length;for(let i=0;i<n;i++)e+=t.data[i];return Math.abs(Math.ceil(100*e/n/5)-10)*r},e.applyMask=function(t,e){const n=e.size;for(let i=0;i<n;i++)for(let o=0;o<n;o++)e.isReserved(o,i)||e.xor(o,i,s(t,o,i))},e.getBestMask=function(t,n){const i=Object.keys(e.Patterns).length;let o=0,r=1/0;for(let s=0;s<i;s++){n(s),e.applyMask(s,t);const i=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(s,t),i<r&&(r=i,o=s)}return o}}));Yt.Patterns,Yt.isValid,Yt.getPenaltyN1,Yt.getPenaltyN2,Yt.getPenaltyN3,Yt.getPenaltyN4,Yt.applyMask,Yt.getBestMask;const qt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Jt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];var Kt={getBlocksCount:function(t,e){switch(e){case zt.L:return qt[4*(t-1)+0];case zt.M:return qt[4*(t-1)+1];case zt.Q:return qt[4*(t-1)+2];case zt.H:return qt[4*(t-1)+3];default:return}},getTotalCodewordsCount:function(t,e){switch(e){case zt.L:return Jt[4*(t-1)+0];case zt.M:return Jt[4*(t-1)+1];case zt.Q:return Jt[4*(t-1)+2];case zt.H:return Jt[4*(t-1)+3];default:return}}};const Qt=new Uint8Array(512),Xt=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)Qt[e]=t,Xt[t]=e,t<<=1,256&t&&(t^=285);for(let t=255;t<512;t++)Qt[t]=Qt[t-255]}();var Zt=function(t){return Qt[t]},Gt=function(t,e){return 0===t||0===e?0:Qt[Xt[t]+Xt[e]]},te=Lt((function(t,e){e.mul=function(t,e){const n=new Uint8Array(t.length+e.length-1);for(let i=0;i<t.length;i++)for(let o=0;o<e.length;o++)n[i+o]^=Gt(t[i],e[o]);return n},e.mod=function(t,e){let n=new Uint8Array(t);for(;n.length-e.length>=0;){const t=n[0];for(let i=0;i<e.length;i++)n[i]^=Gt(e[i],t);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},e.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let i=0;i<t;i++)n=e.mul(n,new Uint8Array([1,Zt(i)]));return n}}));function ee(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}te.mul,te.mod,te.generateECPolynomial,ee.prototype.initialize=function(t){this.degree=t,this.genPoly=te.generateECPolynomial(this.degree)},ee.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=te.mod(e,this.genPoly),i=this.degree-n.length;if(i>0){const t=new Uint8Array(this.degree);return t.set(n,i),t}return n};var ne=ee,ie=function(t){return!isNaN(t)&&t>=1&&t<=40};const oe="[0-9]+";let re="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";re=re.replace(/u/g,"\\u");const se="(?:(?![A-Z0-9 $%*+\\-./:]|"+re+")(?:.|[\r\n]))+";var ae=new RegExp(re,"g"),le=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ce=new RegExp(se,"g"),ue=new RegExp(oe,"g"),he=new RegExp("[A-Z $%*+\\-./:]+","g");const de=new RegExp("^"+re+"$"),fe=new RegExp("^"+oe+"$"),ge=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");var pe={KANJI:ae,BYTE_KANJI:le,BYTE:ce,NUMERIC:ue,ALPHANUMERIC:he,testKanji:function(t){return de.test(t)},testNumeric:function(t){return fe.test(t)},testAlphanumeric:function(t){return ge.test(t)}},ve=Lt((function(t,e){e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!ie(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return pe.testNumeric(t)?e.NUMERIC:pe.testAlphanumeric(t)?e.ALPHANUMERIC:pe.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return n}}}));ve.NUMERIC,ve.ALPHANUMERIC,ve.BYTE,ve.KANJI,ve.MIXED,ve.getCharCountIndicator,ve.getBestModeForData,ve.isValid;var ye=Lt((function(t,e){const n=Bt.getBCHDigit(7973);function i(t,e){return ve.getCharCountIndicator(t,e)+4}function o(t,e){let n=0;return t.forEach((function(t){const o=i(t.mode,e);n+=o+t.getBitsLength()})),n}e.from=function(t,e){return ie(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!ie(t))throw new Error("Invalid QR Code version");void 0===n&&(n=ve.BYTE);const o=8*(Bt.getSymbolTotalCodewords(t)-Kt.getTotalCodewordsCount(t,e));if(n===ve.MIXED)return o;const r=o-i(n,t);switch(n){case ve.NUMERIC:return Math.floor(r/10*3);case ve.ALPHANUMERIC:return Math.floor(r/11*2);case ve.KANJI:return Math.floor(r/13);case ve.BYTE:default:return Math.floor(r/8)}},e.getBestVersionForData=function(t,n){let i;const r=zt.from(n,zt.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let i=1;i<=40;i++)if(o(t,i)<=e.getCapacity(i,n,ve.MIXED))return i}(t,r);if(0===t.length)return 1;i=t[0]}else i=t;return function(t,n,i){for(let o=1;o<=40;o++)if(n<=e.getCapacity(o,i,t))return o}(i.mode,i.getLength(),r)},e.getEncodedBits=function(t){if(!ie(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;Bt.getBCHDigit(e)-n>=0;)e^=7973<<Bt.getBCHDigit(e)-n;return t<<12|e}}));ye.getCapacity,ye.getBestVersionForData,ye.getEncodedBits;const _e=Bt.getBCHDigit(1335);var me={getEncodedBits:function(t,e){const n=t.bit<<3|e;let i=n<<10;for(;Bt.getBCHDigit(i)-_e>=0;)i^=1335<<Bt.getBCHDigit(i)-_e;return 21522^(n<<10|i)}};function we(t){this.mode=ve.NUMERIC,this.data=t.toString()}we.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},we.prototype.getLength=function(){return this.data.length},we.prototype.getBitsLength=function(){return we.getBitsLength(this.data.length)},we.prototype.write=function(t){let e,n,i;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),i=parseInt(n,10),t.put(i,10);const o=this.data.length-e;o>0&&(n=this.data.substr(e),i=parseInt(n,10),t.put(i,3*o+1))};var $e=we;const Ee=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ae(t){this.mode=ve.ALPHANUMERIC,this.data=t}Ae.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},Ae.prototype.getLength=function(){return this.data.length},Ae.prototype.getBitsLength=function(){return Ae.getBitsLength(this.data.length)},Ae.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=45*Ee.indexOf(this.data[e]);n+=Ee.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(Ee.indexOf(this.data[e]),6)};var be=Ae;function Ce(t){this.mode=ve.BYTE,"string"==typeof t&&(t=function(t){for(var e=[],n=t.length,i=0;i<n;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319&&n>i+1){var r=t.charCodeAt(i+1);r>=56320&&r<=57343&&(o=1024*(o-55296)+r-56320+65536,i+=1)}o<128?e.push(o):o<2048?(e.push(o>>6|192),e.push(63&o|128)):o<55296||o>=57344&&o<65536?(e.push(o>>12|224),e.push(o>>6&63|128),e.push(63&o|128)):o>=65536&&o<=1114111?(e.push(o>>18|240),e.push(o>>12&63|128),e.push(o>>6&63|128),e.push(63&o|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}(t)),this.data=new Uint8Array(t)}Ce.getBitsLength=function(t){return 8*t},Ce.prototype.getLength=function(){return this.data.length},Ce.prototype.getBitsLength=function(){return Ce.getBitsLength(this.data.length)},Ce.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Se=Ce;function Pe(t){this.mode=ve.KANJI,this.data=t}Pe.getBitsLength=function(t){return 13*t},Pe.prototype.getLength=function(){return this.data.length},Pe.prototype.getBitsLength=function(){return Pe.getBitsLength(this.data.length)},Pe.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Bt.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}};var xe=Pe,Ie=Lt((function(t){var e={single_source_shortest_paths:function(t,n,i){var o={},r={};r[n]=0;var s,a,l,c,u,h,d,f=e.PriorityQueue.make();for(f.push(n,0);!f.empty();)for(l in a=(s=f.pop()).value,c=s.cost,u=t[a]||{})u.hasOwnProperty(l)&&(h=c+u[l],d=r[l],(void 0===r[l]||d>h)&&(r[l]=h,f.push(l,h),o[l]=a));if(void 0!==i&&void 0===r[i]){var g=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(g)}return o},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],i=e;i;)n.push(i),t[i],i=t[i];return n.reverse(),n},find_path:function(t,n,i){var o=e.single_source_shortest_paths(t,n,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(t){var n,i=e.PriorityQueue,o={};for(n in t=t||{},i)i.hasOwnProperty(n)&&(o[n]=i[n]);return o.queue=[],o.sorter=t.sorter||i.default_sorter,o},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e})),Te=Lt((function(t,e){function n(t){return unescape(encodeURIComponent(t)).length}function i(t,e,n){const i=[];let o;for(;null!==(o=t.exec(n));)i.push({data:o[0],index:o.index,mode:e,length:o[0].length});return i}function o(t){const e=i(pe.NUMERIC,ve.NUMERIC,t),n=i(pe.ALPHANUMERIC,ve.ALPHANUMERIC,t);let o,r;Bt.isKanjiModeEnabled()?(o=i(pe.BYTE,ve.BYTE,t),r=i(pe.KANJI,ve.KANJI,t)):(o=i(pe.BYTE_KANJI,ve.BYTE,t),r=[]);return e.concat(n,o,r).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function r(t,e){switch(e){case ve.NUMERIC:return $e.getBitsLength(t);case ve.ALPHANUMERIC:return be.getBitsLength(t);case ve.KANJI:return xe.getBitsLength(t);case ve.BYTE:return Se.getBitsLength(t)}}function s(t,e){let n;const i=ve.getBestModeForData(t);if(n=ve.from(e,i),n!==ve.BYTE&&n.bit<i.bit)throw new Error('"'+t+'" cannot be encoded with mode '+ve.toString(n)+".\n Suggested mode is: "+ve.toString(i));switch(n!==ve.KANJI||Bt.isKanjiModeEnabled()||(n=ve.BYTE),n){case ve.NUMERIC:return new $e(t);case ve.ALPHANUMERIC:return new be(t);case ve.KANJI:return new xe(t);case ve.BYTE:return new Se(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(s(e,null)):e.data&&t.push(s(e.data,e.mode)),t}),[])},e.fromString=function(t,i){const s=function(t){const e=[];for(let i=0;i<t.length;i++){const o=t[i];switch(o.mode){case ve.NUMERIC:e.push([o,{data:o.data,mode:ve.ALPHANUMERIC,length:o.length},{data:o.data,mode:ve.BYTE,length:o.length}]);break;case ve.ALPHANUMERIC:e.push([o,{data:o.data,mode:ve.BYTE,length:o.length}]);break;case ve.KANJI:e.push([o,{data:o.data,mode:ve.BYTE,length:n(o.data)}]);break;case ve.BYTE:e.push([{data:o.data,mode:ve.BYTE,length:n(o.data)}])}}return e}(o(t)),a=function(t,e){const n={},i={start:{}};let o=["start"];for(let s=0;s<t.length;s++){const a=t[s],l=[];for(let t=0;t<a.length;t++){const c=a[t],u=""+s+t;l.push(u),n[u]={node:c,lastCount:0},i[u]={};for(let t=0;t<o.length;t++){const s=o[t];n[s]&&n[s].node.mode===c.mode?(i[s][u]=r(n[s].lastCount+c.length,c.mode)-r(n[s].lastCount,c.mode),n[s].lastCount+=c.length):(n[s]&&(n[s].lastCount=c.length),i[s][u]=r(c.length,c.mode)+4+ve.getCharCountIndicator(c.mode,e))}}o=l}for(let t=0;t<o.length;t++)i[o[t]].end=0;return{map:i,table:n}}(s,i),l=Ie.find_path(a.map,"start","end"),c=[];for(let t=1;t<l.length-1;t++)c.push(a.table[l[t]].node);return e.fromArray(function(t){return t.reduce((function(t,e){const n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}(c))},e.rawSplit=function(t){return e.fromArray(o(t))}}));function Me(t,e,n){const i=t.size,o=me.getEncodedBits(e,n);let r,s;for(r=0;r<15;r++)s=1==(o>>r&1),r<6?t.set(r,8,s,!0):r<8?t.set(r+1,8,s,!0):t.set(i-15+r,8,s,!0),r<8?t.set(8,i-r-1,s,!0):r<9?t.set(8,15-r-1+1,s,!0):t.set(8,15-r-1,s,!0);t.set(i-8,8,1,!0)}function Ne(t,e,n){const i=new Ot;n.forEach((function(e){i.put(e.mode.bit,4),i.put(e.getLength(),ve.getCharCountIndicator(e.mode,t)),e.write(i)}));const o=8*(Bt.getSymbolTotalCodewords(t)-Kt.getTotalCodewordsCount(t,e));for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);const r=(o-i.getLengthInBits())/8;for(let t=0;t<r;t++)i.put(t%2?17:236,8);return function(t,e,n){const i=Bt.getSymbolTotalCodewords(e),o=Kt.getTotalCodewordsCount(e,n),r=i-o,s=Kt.getBlocksCount(e,n),a=i%s,l=s-a,c=Math.floor(i/s),u=Math.floor(r/s),h=u+1,d=c-u,f=new ne(d);let g=0;const p=new Array(s),v=new Array(s);let y=0;const _=new Uint8Array(t.buffer);for(let t=0;t<s;t++){const e=t<l?u:h;p[t]=_.slice(g,g+e),v[t]=f.encode(p[t]),g+=e,y=Math.max(y,e)}const m=new Uint8Array(i);let w,$,E=0;for(w=0;w<y;w++)for($=0;$<s;$++)w<p[$].length&&(m[E++]=p[$][w]);for(w=0;w<d;w++)for($=0;$<s;$++)m[E++]=v[$][w];return m}(i,t,e)}function Re(t,e,n,i){let o;if(Array.isArray(t))o=Te.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let i=e;if(!i){const e=Te.rawSplit(t);i=ye.getBestVersionForData(e,n)}o=Te.fromString(t,i||40)}}const r=ye.getBestVersionForData(o,n);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<r)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+r+".\n")}else e=r;const s=Ne(e,n,o),a=Bt.getSymbolSize(e),l=new Ft(a);return function(t,e){const n=t.size,i=Wt.getPositions(e);for(let e=0;e<i.length;e++){const o=i[e][0],r=i[e][1];for(let e=-1;e<=7;e++)if(!(o+e<=-1||n<=o+e))for(let i=-1;i<=7;i++)r+i<=-1||n<=r+i||(e>=0&&e<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===e||6===e)||e>=2&&e<=4&&i>=2&&i<=4?t.set(o+e,r+i,!0,!0):t.set(o+e,r+i,!1,!0))}}(l,e),function(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2==0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}(l),function(t,e){const n=Vt.getPositions(e);for(let e=0;e<n.length;e++){const i=n[e][0],o=n[e][1];for(let e=-2;e<=2;e++)for(let n=-2;n<=2;n++)-2===e||2===e||-2===n||2===n||0===e&&0===n?t.set(i+e,o+n,!0,!0):t.set(i+e,o+n,!1,!0)}}(l,e),Me(l,n,0),e>=7&&function(t,e){const n=t.size,i=ye.getEncodedBits(e);let o,r,s;for(let e=0;e<18;e++)o=Math.floor(e/3),r=e%3+n-8-3,s=1==(i>>e&1),t.set(o,r,s,!0),t.set(r,o,s,!0)}(l,e),function(t,e){const n=t.size;let i=-1,o=n-1,r=7,s=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!t.isReserved(o,a-n)){let i=!1;s<e.length&&(i=1==(e[s]>>>r&1)),t.set(o,a-n,i),r--,-1===r&&(s++,r=7)}if(o+=i,o<0||n<=o){o-=i,i=-i;break}}}(l,s),isNaN(i)&&(i=Yt.getBestMask(l,Me.bind(null,l,n))),Yt.applyMask(i,l),Me(l,n,i),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:i,segments:o}}Te.fromArray,Te.fromString,Te.rawSplit;var Ue=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let n,i,o=zt.M;return void 0!==e&&(o=zt.from(e.errorCorrectionLevel,zt.M),n=ye.from(e.version),i=Yt.from(e.maskPattern),e.toSJISFunc&&Bt.setToSJISFunction(e.toSJISFunc)),Re(t,n,o,i)},ke=Lt((function(t,e){function n(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,o=t.scale||4;return{width:i,scale:i?4:o,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){const i=e.getScale(t,n);return Math.floor((t+2*n.margin)*i)},e.qrToImageData=function(t,n,i){const o=n.modules.size,r=n.modules.data,s=e.getScale(o,i),a=Math.floor((o+2*i.margin)*s),l=i.margin*s,c=[i.color.light,i.color.dark];for(let e=0;e<a;e++)for(let n=0;n<a;n++){let u=4*(e*a+n),h=i.color.light;if(e>=l&&n>=l&&e<a-l&&n<a-l){h=c[r[Math.floor((e-l)/s)*o+Math.floor((n-l)/s)]?1:0]}t[u++]=h.r,t[u++]=h.g,t[u++]=h.b,t[u]=h.a}}}));ke.getOptions,ke.getScale,ke.getImageWidth,ke.qrToImageData;var Be=Lt((function(t,e){e.render=function(t,e,n){let i=n,o=e;void 0!==i||e&&e.getContext||(i=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),i=ke.getOptions(i);const r=ke.getImageWidth(t.modules.size,i),s=o.getContext("2d"),a=s.createImageData(r,r);return ke.qrToImageData(a.data,t,i),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(s,o,r),s.putImageData(a,0,0),o},e.renderToDataURL=function(t,n,i){let o=i;void 0!==o||n&&n.getContext||(o=n,n=void 0),o||(o={});const r=e.render(t,n,o),s=o.type||"image/png",a=o.rendererOpts||{};return r.toDataURL(s,a.quality)}}));function Le(t,e){const n=t.a/255,i=e+'="'+t.hex+'"';return n<1?i+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function ze(t,e,n){let i=t+e;return void 0!==n&&(i+=" "+n),i}Be.render,Be.renderToDataURL;var He=function(t,e,n){const i=ke.getOptions(e),o=t.modules.size,r=t.modules.data,s=o+2*i.margin,a=i.color.light.a?"<path "+Le(i.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",l="<path "+Le(i.color.dark,"stroke")+' d="'+function(t,e,n){let i="",o=0,r=!1,s=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);l||r||(r=!0),t[a]?(s++,a>0&&l>0&&t[a-1]||(i+=r?ze("M",l+n,.5+c+n):ze("m",o,0),o=0,r=!1),l+1<e&&t[a+1]||(i+=ze("h",s),s=0)):o++}return i}(r,o,i.margin)+'"/>',c='viewBox="0 0 '+s+" "+s+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+c+' shape-rendering="crispEdges">'+a+l+"</svg>\n";return"function"==typeof n&&n(null,u),u};function Oe(t,e,n,i,o){const r=[].slice.call(arguments,1),s=r.length,a="function"==typeof r[s-1];if(!(a||"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then))throw new Error("Callback required as last argument");if(!a){if(s<1)throw new Error("Too few arguments provided");return 1===s?(n=e,e=i=void 0):2!==s||e.getContext||(i=n,n=e,e=void 0),new Promise((function(o,r){try{const r=Ue(n,i);o(t(r,e,i))}catch(t){r(t)}}))}if(s<2)throw new Error("Too few arguments provided");2===s?(o=n,n=e,e=i=void 0):3===s&&(e.getContext&&void 0===o?(o=i,i=void 0):(o=i,i=n,n=e,e=void 0));try{const r=Ue(n,i);o(null,t(r,e,i))}catch(t){o(t)}}var De={create:Ue,toCanvas:Oe.bind(null,Be.render),toDataURL:Oe.bind(null,Be.renderToDataURL),toString:Oe.bind(null,(function(t,e,n){return He(t,n)}))};const Fe={margin:1,width:500};class Ve{constructor(t){this.config=t}validate(){return this._validate()}}class je extends Ve{_validate(){const t=[];return void 0!==this.config.debug&&"boolean"!=typeof this.config.debug&&t.push("validation.debug.invalid"),t}}class We extends Ve{_validate(){const t=[];return this.config.source?Object.values(bt).includes(this.config.source)||t.push("validation.source.invalid"):t.push("validation.source.missing"),t}}const Ye=new Map([[bt.TEXT,class extends Ve{_validate(){const t=[];return this.config.text||t.push("validation.text.missing"),t}}],[bt.WIFI,class extends Ve{_validate(){const t=[];return this.config.auth_type?Object.values(Ct).includes(this.config.auth_type)||t.push("validation.auth_type.invalid"):t.push("validation.auth_type.missing"),this.config.ssid?"string"==typeof this.config.ssid||this.config.ssid.hasOwnProperty("entity")||t.push("validation.ssid.entity.missing"):t.push("validation.ssid.missing"),Pt(this.config.auth_type)&&(this.config.password?"string"==typeof this.config.password||this.config.password.hasOwnProperty("entity")||t.push("validation.password.entity.missing"):t.push("validation.password.missing")),t}}],[bt.ENTITY,class extends Ve{_validate(){const t=[];return this.config.entity||t.push("validation.entity.missing"),t}}]]);console.info("%c QR-CODE-GENERATOR %c v1.2.0 ","color: black; background: white; font-weight: 700;","color: white; background: black; font-weight: 700;");const qe=window;qe.customCards=qe.customCards||[],qe.customCards.push({type:xt,name:"QR Code Card",description:Et("common.description"),preview:!0});let Je=class extends ot{constructor(){super(...arguments),this.watchedEntities=[],this.errors=[],this.dataUrl=""}static async getConfigElement(){return document.createElement(It)}static getStubConfig(){return{type:"custom:"+xt,source:bt.TEXT,text:"QRCode example text"}}set hass(t){this._hass=t}get hass(){return this._hass}setConfig(t){if(!t)throw new Error(this._localize("common.invalid_configuration"));this.config=t,this.errors=function(t){const e=[];if(new We(t).validate().forEach((t=>e.push(t))),new je(t).validate().forEach((t=>e.push(t))),0==e.length){const n=Ye.get(t.source);n&&new n(t).validate().forEach((t=>e.push(t)))}return e.map((e=>Et(e,t.language)))}(this.config),this.errors.length>0||(this.watchedEntities=function(t){const e=new Set;switch(t.source){case bt.ENTITY:e.add(t.entity);break;case bt.WIFI:t.ssid.hasOwnProperty("entity")&&e.add(t.ssid.entity),t.password.hasOwnProperty("entity")&&e.add(t.password.entity)}return[...e]}(this.config),this.requestUpdate("config"))}async _updateQR(){try{this.inputString=function(t,e){const n=Rt.get(e.source);if(!n)throw new Mt("validation.source.invalid");return new n(t,e).getInputString()}(this.hass,this.config),this.dataUrl=await async function(t){try{return De.toDataURL(t,Fe)}catch(t){throw new Mt("generation.unknown_error")}}(this.inputString)}catch(t){this.errors=t instanceof Mt?[t.message]:[this._localize("generation.unknown_error")]}}_localize(t){return At(t,this.hass,this.config)}shouldUpdate(t){return!!this.config&&function(t,e,n,i){if(e.has("config")||n)return!0;const o=e.get("_hass");return!o||t.some((t=>o.states[t]!==(null==i?void 0:i.states[t])))}(this.watchedEntities,t,!1,this.hass)}async update(t){0==this.errors.length&&await this._updateQR(),super.update(t)}render(){var t,e,n,i;return this.errors.length>0?this._showErrors():this.dataUrl?z`
            <ha-card>
                ${(null!==(e=null===(t=this.config)||void 0===t?void 0:t.title)&&void 0!==e?e:"").length>0?z`<h1 class="card-header">${this.config.title}</h1>`:""}
                ${null!==(i=null===(n=this.config)||void 0===n?void 0:n.debug)&&void 0!==i&&i?z`<p>Input string: ${this.inputString}</p>`:""}
                <div class="qrcode-overlay">
                    <img class="qrcode" src="${this.dataUrl}">
                </div>
            </ha-card>
          `:z`
                <ha-card>
                    <span>${this._localize("common.loading")}</span>
                </ha-card>
            `}_showErrors(){this.errors.forEach((t=>console.error(t)));const t=document.createElement("hui-error-card");return customElements.whenDefined("hui-error-card").then((()=>{t.setConfig({type:"error",error:this.errors[0],origConfig:this.config})})),z` ${t} `}static get styles(){return s`
            :host {
                display: flex;
                flex: 1;
                flex-direction: column;
            }
            ha-card {
                flex-direction: column;
                flex: 1;
                position: relative;
                padding: 0;
                border-radius: 6px;
                overflow: hidden;
            }
            .qrcode {
                max-width:100%;
            }
        `}};t([ct({attribute:!1})],Je.prototype,"_hass",void 0),t([ut()],Je.prototype,"errors",void 0),t([ut()],Je.prototype,"dataUrl",void 0),Je=t([st(xt)],Je);export{Je as QRCodeCard};
